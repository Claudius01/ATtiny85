; "$Id: ATtiny85_uOS_Macros.def,v 1.3 2026/01/01 17:42:40 administrateur Exp $

.cseg
; --------
; Macros de pilotage du PORTB en sortie
.macro setLedRedOff			; 0/1: On/Off
	cbr		REG_FLAGS_1, FLG_1_LED_RED_ON_MSK	; Led RED Externe eteinte (Pulse --\_/--- possible)
	sbr		REG_PORTB_OUT, MSK_BIT_LED_RED	
	sbi		PORTB, IDX_BIT_LED_RED
.endm

.macro setLedRedOn			; 0/1: On/Off
	sbr		REG_FLAGS_1, FLG_1_LED_RED_ON_MSK	; Led RED Externe allumee (Pulse --\_/--- inhibee)
	cbr		REG_PORTB_OUT, MSK_BIT_LED_RED
	cbi		PORTB, IDX_BIT_LED_RED
.endm

.macro setLedYellowOff		; 0/1: On/Off
	sbr		REG_PORTB_OUT, MSK_BIT_LED_YELLOW	
	sbi		PORTB, IDX_BIT_LED_YELLOW
.endm

.macro setLedYellowOn		; 0/1: On/Off
	cbr		REG_PORTB_OUT, MSK_BIT_LED_YELLOW
	cbi		PORTB, IDX_BIT_LED_YELLOW
.endm

.macro setLedGreenOff		; 0/1: On/Off
	sbr		REG_PORTB_OUT, MSK_BIT_LED_GREEN
	sbi		PORTB, IDX_BIT_LED_GREEN
.endm

.macro setLedGreenOn			; 0/1: On/Off
	cbr		REG_PORTB_OUT, MSK_BIT_LED_GREEN	
	cbi		PORTB, IDX_BIT_LED_GREEN
.endm

.macro setLedRedIntOn		; 0/1: Off/On
	sbr		REG_PORTB_OUT, MSK_BIT_LED_RED_INT
	sbi		PORTB, IDX_BIT_LED_RED_INT
.endm

.macro setLedRedIntOff		; 0/1: Off/On
	cbr		REG_PORTB_OUT, MSK_BIT_LED_RED_INT
	cbi		PORTB, IDX_BIT_LED_RED_INT
.endm

.macro setPulseItUp			; Sortie au niveau haut de la pulse It
	sbr		REG_PORTB_OUT, MSK_BIT_PULSE_IT
	sbi		PORTB, IDX_BIT_PULSE_IT
.endm

.macro setPulseItDown		; Sortie au niveau bas de la pulse It
	cbr		REG_PORTB_OUT, MSK_BIT_PULSE_IT
	cbi		PORTB, IDX_BIT_PULSE_IT
.endm

#if 0
.macro setTxdLow				; 0: Low
	cbr		REG_PORTB_OUT, MSK_BIT_TXD
	cbi		PORTB, IDX_BIT_TXD
.endm

.macro setTxdHigh				; 1: High
	sbr		REG_PORTB_OUT, MSK_BIT_TXD
	sbi		PORTB, IDX_BIT_TXD
.endm
#endif
; Fin: Macros de pilotage du PORTB en sortie

; End of file

